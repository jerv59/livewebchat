<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Beta UCaas TIGO</title>
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a2e0d6c6e0.js" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/webex/umd/webex.min.js"></script>
  <script src='https://unpkg.com/webex@3.5.0-next.25/umd/calling.min.js'></script>
</head>
  
<body class="page-container">
  <header class="header">
    <div class="brand">
      <img src="images/tigo-logo.png" alt="Logo" class="logo"/>
      <h1></h1>
    </div>
    <nav class="nav">
      <a href="#features">Características</a>
      <a href="#usecases">Casos de Uso</a>
      <a href="#contact">Contacto</a>
    </nav>
  </header>

  <main class="content-wrap">
    <section class="hero">
      <h2>Comunicación sin límites, experiencia sin igual</h2>
      <p>Transforma tu negocio con una plataforma de colaboración y contact center en la nube.</p>
      <div class="cta-stack">
        <a class="btn phone" href="tel:+576046098731"><i class="fas fa-phone"></i> 
          <img src="images/llamada.png" alt="Llamar" class="icono"> Contactenos</a>
        <a class="btn email" href="mailto:clientes.support@pocbancolombia.ucteamsidc.tigo.com.co"><i class="fas fa-envelope"></i> 
          <img src="images/email.png" alt="Email" class="icono"> Correo</a>
        <a class="btn clic2call" href="#" id="btnCall" onclick="initiateCall()"> 
          <img src="images/call.png" alt="Llamada Web" class="icono"> Hablar con Agente</a>
      </div>
    </section>
    
    <section id="features" class="section">
      <h2>Características</h2>
      <div class="grid-2">
        <div class="card"><i class="fas fa-headset"></i><h3>Omnicanal</h3><p>WhatsApp, correo, chat y voz en una sola plataforma.</p></div>
        <div class="card"><i class="fas fa-link"></i><h3>Integraciones CRM</h3><p>Conecta con Salesforce, Dynamics, Zoho y más.</p></div>
        <div class="card"><i class="fas fa-chart-line"></i><h3>Analítica</h3><p>Paneles de control en tiempo real y reportes exportables.</p></div>
        <div class="card"><i class="fas fa-lock"></i><h3>Seguridad</h3><p>Cifrado de extremo a extremo y cumplimiento regulatorio.</p></div>
      </div>
    </section>

    <section id="usecases" class="section">
      <h2>Casos de Uso</h2>
      <div class="grid-3">
        <div class="card"><h3>Banca</h3><p>Atención segura y personalizada para clientes financieros.</p></div>
        <div class="card"><h3>Retail</h3><p>Incrementa ventas con campañas de retención proactivas.</p></div>
        <div class="card"><h3>Soporte</h3><p>Agentes más eficientes con bots y guías en tiempo real.</p></div>
      </div>
    </section>

    <section id="contact" class="section contact">
      <h2>Contacto & Solicitar Demo</h2>
      <p class="lead">Rellena el formulario o usa los botones flotantes para contactarnos inmediatamente.</p>

      <form id="contactForm" style="margin-top:12px;display:grid;grid-template-columns:1fr 1fr;gap:10px">
        <input name="name" placeholder="Nombre completo" required />
        <input name="company" placeholder="Compañía" />
        <input name="email" type="email" placeholder="Correo electrónico" required />
        <input name="phone" placeholder="Teléfono" />
        <textarea name="message" placeholder="Cuéntanos tu proyecto o necesidades" rows="4" style="grid-column:1/3;background:transparent"></textarea>
        <button type="submit" class="btn primary">Solicitar información</button>
      </form>

      <p style="margin-top:10px;color:var(--muted)">
        O contacta directamente: 
        <a href="mailto:clientes.support@pocbancolombia.ucteamsidc.tigo.com.co">clientes.support@pocbancolombia.ucteamsidc.tigo.com.co</a> · 
        <a href="tel:+576046098731">+57 604 609 8731</a>
      </p>
    </section>

    <!-- DEPRECATED: Script antiguo web dialer no usado -->
    <!--
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const callBtn = document.getElementById('btnCall');
        const dialer = document.getElementById('webex-dialer');
        let isDialerVisible = false;
        callBtn.addEventListener('click', function (e) {
          e.preventDefault();
          isDialerVisible = !isDialerVisible;
          dialer.style.display = isDialerVisible ? 'block' : 'none';
        });
        webexCallWidget.init({
          elementId: 'webex-dialer',
          orgId: '...',
          queueId: '...',
          entryPoint: '...',
          locale: 'es',
          theme: 'light'
        });
      });
    </script>
    -->

    <!-- Call Notification -->
    <div class="incoming-call-notification timestate" id="callNotification">
      <div class="notifier-a">
        <div class="call-avatar"></div>
        <div class="call-info">
          <div class="callee-name">Customer Care</div>
        </div>
        <div class="call-time" id="call-time">
          <span id="timer">00:01</span>
          <span class="blink_me" id="hold-status">On Hold</span>
        </div>
        <div class="call-actions">
          <button class="cut-call-btn" onclick="disconnectCall()"><i class="fa fa-times"></i></button>
        </div>
      </div>
      <div class="notifier-a-controls hide-controls" id="notifier-a-controls">
        <button class="mute tooltip-trigger" data-tooltip="Mute" onclick="toggleMute()"><i class="fa fa-microphone-slash"></i></button>
      </div>
    </div>

    <audio id="customer-remote-audio" autoplay></audio>
  </main>
    
  <!-- Botones flotantes -->
  <div class="fab-group">
    <!-- Widget IMI Chat Webex -->
    <div id="divicw" data-bind="AA45EC3E-8457-45FD-93B2-7E5C6DE941B6" data-org=""></div>
    <script>
      var i={t:function(t){var e="https://media.imi.chat/widget/js/imichatinit.js";try{var o=new XMLHttpRequest;o.onreadystatechange=function(){if(this.readyState==4){var t=document.getElementById("divicw");if(this.status==0){i.o(t);return}var e=document.createElement("script");e.innerHTML=this.responseText;t.parentNode.insertBefore(e,t.nextSibling)}};o.open("GET",e,true);o.send()}catch(s){console.error(s)}},o:function(t){t.insertAdjacentHTML("afterend",'<iframe id="tls_al_frm" frameborder="0" style="overflow: hidden;height: 100%; max-height: 80vh;width: 100%;max-width: 100vw;position: fixed;right: 0;bottom: 0;z-index: 99999;display:none;border-radius: 8px;box-sizing: border-box"></iframe>');var e=document.getElementById("tls_al_frm");var o=e.contentWindow||(e.contentDocument.document||e.contentDocument);o.document.open();o.document.write('<!doctype html><html><head><meta charset="utf-8"><title>Untitled Document</title><style>body{font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;color: #99a0b0;font-size: 14px;}.popover__content{background-color: #fbfbfe; padding: 1rem; border-radius: 5px; width: 100%; max-width: 320px;box-shadow: 0 2px 5px 0 rgba(0,0,0,0.26);position: relative;box-sizing: border-box;}.popover__message{font-weight: 600;color:#56627c;font-size: 16px;}.pull-left{float:left;}.clearfix{clear: both;}.hdr-txt{width: 218px; margin-top: 3px;}.para-txt a{text-decoration: none;color: #005cde;}.close-btn{position: absolute;right:10px;top:10px;}.close-btn a{text-decoration: none;font-weight: 400; color: #56627c; font-size: 16px;}</style></head><body><div class="popover__content"><div class="close-btn"><a href="#" onclick="closeTLSAlert();">X</a></div><div class="popover__message"><div class="pull-left hdr-txt">This browser version is not supported on LiveChat.</div></div><div class="clearfix"></div><p class="para-txt">Please update your browser to the latest version and re-open the website to access the widget. </p></div><script>function closeTLSAlert(){window.parent.postMessage({key: "close_tls_alert",value: "close_tls_alert",action: "close_tls_alert"}, "*");}<\/script></body></html>');o.document.close();e.style.display="block";window.addEventListener("message",function(t){if(t.data.action=="close_tls_alert"){i.s()}})},s:function(){var t=document.getElementById("tls_al_frm");t.remove()}};i.t(function(t){});
    </script>

    <!-- Botón flotante WhatsApp -->
    <a class="fab whatsapp" href="https://wa.me/14082568243?text=Hola,%20deseo%20más%20información%20sobre%20Webex" target="_blank" aria-label="WhatsApp">
      <i class="fab fa-whatsapp"></i>
      <img src="images/whatsapp.png" alt="whatsapp" class="fab whatsapp">
    </a>

    <!-- Botón flotante Facebook 
    <a class="fab facebook" href="https://m.me/TU_PAGINA" target="_blank" aria-label="Facebook">
      <i class="fab fa-facebook-messenger"></i>
    </a>

    <!-- Botón flotante Instagram 
    <a class="fab instagram" href="https://instagram.com/TU_USUARIO" target="_blank" aria-label="Instagram">
      <i class="fab fa-instagram"></i>
    </a> -->
  </div> 


  

  <script type="text/javascript" src="./js/timer.js"></script>
  <script type="text/javascript" src="./js/app.js"></script>
  <script type="text/javascript" src="./sdk/calling-sdk.js"></script>
  <script type="text/javascript" src="./js/call-hooks.js"></script>
  <script>window.onload = () => {initCalling('customer');}</script>
  <!-- ========================= -->
<!-- Script envío formulario contacto -->
<!-- ========================= -->
<script>
document.getElementById("contactForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const form = e.target;
  const name = form.querySelector("[name='name']").value;
  const email = form.querySelector("[name='email']").value;
  const subject = form.querySelector("[name='company']").value || "Solicitud de demo";
  const message = form.querySelector("[name='message']").value;

  // Crear elemento de estado (si no existe)
  let statusDiv = document.getElementById("statusMessage");
  if (!statusDiv) {
    statusDiv = document.createElement("p");
    statusDiv.id = "statusMessage";
    statusDiv.style.marginTop = "10px";
    form.insertAdjacentElement("afterend", statusDiv);
  }

  statusDiv.innerText = "⏳ Enviando solicitud...";

  try {
    const response = await fetch("https://webcallback-ucaas.onrender.com/contact", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ 
        name, 
        email, 
        subject, 
        message 
      }),
    });

    const result = await response.json();

    if (result.success) {
      statusDiv.innerText = "✅ Tu mensaje fue enviado correctamente. Pronto te contactaremos.";
      form.reset();
    } else {
      statusDiv.innerText = "❌ Error al enviar el mensaje. Intenta nuevamente.";
    }
  } catch (error) {
    console.error("Error:", error);
    statusDiv.innerText = "⚠️ No se pudo conectar con el servidor. Revisa tu conexión.";
  }
});
</script>


  <footer class="footer">
    <p>© <span id="copyYear"></span> TIGO</p>
  </footer>
    
</body>
</html>
